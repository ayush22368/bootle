<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Phantom Mobile Connect</title>
</head>
<body>
  <h2>Phantom Mobile Connect</h2>
  <button id="connectBtn">Connect Wallet</button>
  <p id="status">Not connected</p>

  <script>
    const status = document.getElementById("status");
    const btn = document.getElementById("connectBtn");

    // 1. On page load, check if Phantom returned with address in URL
    const params = new URLSearchParams(window.location.search);
    if (params.has("wallet")) {
      status.textContent = "Connected: " + params.get("wallet");
    }

    // 2. On click, open Phantom deep link
    btn.addEventListener("click", () => {
      const mySite = encodeURIComponent(window.location.origin + window.location.pathname);
      // This is a mock â€” in real MWA, you'd do encryption, but for demo:
      window.location.href = `https://phantom.app/ul/v1/connect?app_url=${mySite}&redirect_link=${mySite}&cluster=mainnet-beta`;
    });
  </script>
</body>
</html>
